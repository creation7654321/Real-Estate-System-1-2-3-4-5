"use strict";var EasyWPSMTPConnect=window.EasyWPSMTPConnect||function(n,e){var o={$connectBtn:e("#easy-wp-smtp-setting-upgrade-license-button"),$connectKey:e("#easy-wp-smtp-setting-upgrade-license-key")},c={init:function(){e(c.ready)},ready:function(){c.events()},events:function(){c.connectBtnClick()},connectBtnClick:function(){o.$connectBtn.on("click",function(){c.gotoUpgradeUrl()})},proAlreadyInstalled:function(t){return{title:easy_wp_smtp_connect.text.almost_done,content:t.data.message,icon:EasyWPSMTP.Admin.Settings.getModalIcon("check-circle-green"),type:"green",buttons:{confirm:{text:easy_wp_smtp_connect.text.plugin_activate_btn,btnClass:"btn-confirm",keys:["enter"],action:function(){n.location.reload()}}}}},gotoUpgradeUrl:function(){var t={action:"easy_wp_smtp_connect_url",key:o.$connectKey.val(),nonce:easy_wp_smtp_connect.nonce};o.$connectBtn.addClass("easy-wp-smtp-btn--loading"),e.post(easy_wp_smtp_connect.ajax_url,t).done(function(t){if(t.success)return t.data.reload?void e.alert(c.proAlreadyInstalled(t)):void(n.location.href=t.data.url);e.alert({title:easy_wp_smtp_connect.text.oops,content:t.data.message,icon:EasyWPSMTP.Admin.Settings.getModalIcon("exclamation-triangle-orange"),type:"orange",buttons:{confirm:{text:easy_wp_smtp_connect.text.ok,btnClass:"btn-confirm",keys:["enter"]}}})}).fail(function(t){c.failAlert(t)}).always(function(){o.$connectBtn.removeClass("easy-wp-smtp-btn--loading")})},failAlert:function(t){e.alert({title:easy_wp_smtp_connect.text.oops,content:easy_wp_smtp_connect.text.server_error+"<br>"+t.status+" "+t.statusText+" "+t.responseText,icon:EasyWPSMTP.Admin.Settings.getModalIcon("exclamation-circle-regular-red"),type:"red",buttons:{confirm:{text:easy_wp_smtp_connect.text.ok,btnClass:"btn-confirm",keys:["enter"]}}})}};return c}((document,window),jQuery);EasyWPSMTPConnect.init();